**4.6.2.** 카테고리 관리  


**4.6.2.1.** 카테고리 생성 API  

　1: 엔드포인트: POST /api/partner/onboarding/categories  
　　A. 요청 데이터  

| 필드 | 타입 | 필수 | 설명 |  
|---|---|---|---|  
| name | string | ✓ | 카테고리명 (최대 20자) |  
| display_order | number | - | 노출 순서 (기본값: 마지막) |  
| is_visible | boolean | - | 노출 여부 (기본값: true) |  

　　B. 응답 데이터  

| 필드 | 타입 | 설명 |  
|---|---|---|  
| category_id | string | 생성된 카테고리 ID |  
| name | string | 카테고리명 |  
| display_order | number | 노출 순서 |  
| is_visible | boolean | 노출 여부 |  
| menu_count | number | 메뉴 개수 (0) |  

　2: 성공 처리  
　　A. 카테고리 목록에 새 카테고리 추가  
　　B. 카테고리 입력 폼 초기화  
　　C. 성공 토스트 메시지 표시  

　3: 에러 처리  
　　A. 중복 카테고리명: "이미 존재하는 카테고리명입니다"  
　　B. 카테고리명 길이 초과: "카테고리명은 20자 이하로 입력해주세요"  
　　C. 네트워크 에러: "네트워크 연결을 확인해주세요"  


**4.6.2.2.** 카테고리 수정 API  

　1: 엔드포인트: PUT /api/partner/onboarding/categories/{category_id}  
　　A. 요청 데이터  

| 필드 | 타입 | 필수 | 설명 |  
|---|---|---|---|  
| name | string | - | 카테고리명 (수정 시) |  
| display_order | number | - | 노출 순서 |  
| is_visible | boolean | - | 노출 여부 |  

　　B. 응답 데이터: 업데이트된 카테고리 정보  

　2: 성공 처리  
　　A. 카테고리 목록에서 해당 카테고리 정보 업데이트  
　　B. 수정 모드 종료  
　　C. 성공 토스트 메시지 표시  


**4.6.2.3.** 카테고리 삭제 API  

　1: 엔드포인트: DELETE /api/partner/onboarding/categories/{category_id}  
　　A. 요청 데이터  

| 필드 | 타입 | 필수 | 설명 |  
|---|---|---|---|  
| delete_menus | boolean | - | 메뉴 함께 삭제 여부 (기본값: false) |  

　　B. 응답 데이터  

| 필드 | 타입 | 설명 |  
|---|---|---|  
| success | boolean | 삭제 성공 여부 |  
| message | string | 삭제 결과 메시지 |  
| moved_menu_count | number | 미분류로 이동된 메뉴 수 (delete_menus=false 시) |  
| deleted_menu_count | number | 삭제된 메뉴 수 (delete_menus=true 시) |  

　2: 삭제 옵션별 처리  
　　A. delete_menus = false (기본값)  
　　　　• 카테고리만 삭제  
　　　　• 해당 카테고리의 메뉴는 "미분류" 카테고리로 자동 이동  
　　　　• 응답: moved_menu_count로 이동된 메뉴 수 반환  
　　B. delete_menus = true  
　　　　• 카테고리와 모든 메뉴 함께 삭제  
　　　　• 삭제된 메뉴는 복구 불가  
　　　　• 응답: deleted_menu_count로 삭제된 메뉴 수 반환  

　3: 에러 처리  
　　A. 미분류 카테고리 삭제 시도: "미분류 카테고리는 삭제할 수 없습니다"  
　　B. 삭제 실패: "카테고리 삭제 중 오류가 발생했습니다"  


**4.6.2.4.** 카테고리 순서 변경 API  

　1: 엔드포인트: PUT /api/partner/onboarding/categories/reorder  
　　A. 요청 데이터  

| 필드 | 타입 | 필수 | 설명 |  
|---|---|---|---|  
| category_orders | array | ✓ | 카테고리 ID와 순서 배열 |  

　　B. category_orders 배열 구조  

| 필드 | 타입 | 설명 |  
|---|---|---|  
| category_id | string | 카테고리 ID |  
| display_order | number | 노출 순서 (1부터 시작) |  

　　C. 응답 데이터  

| 필드 | 타입 | 설명 |  
|---|---|---|  
| success | boolean | 순서 변경 성공 여부 |  
| updated_count | number | 업데이트된 카테고리 수 |  

　2: 성공 처리  
　　A. 카테고리 목록 순서 업데이트  
　　B. UI에 변경된 순서 반영  
　　C. 성공 토스트: "카테고리 순서가 저장되었습니다"  

