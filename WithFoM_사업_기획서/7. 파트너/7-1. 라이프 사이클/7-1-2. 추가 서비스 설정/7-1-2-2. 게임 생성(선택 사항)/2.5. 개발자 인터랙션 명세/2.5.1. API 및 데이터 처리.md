**2.5.1.** API 및 데이터 처리  


**2.5.1.1.** 화면 초기 로딩  

　1: API 호출  
　　A. GET /partner/coins - 파트너 코인 현황 조회  
　　B. GET /partner/games - 생성된 게임 목록 조회  
　　C. GET /partner/membership - 멤버십 정보 및 증정 코인 확인  

　2: 응답 데이터  
　　A. total_coins: 총 보유 코인  
　　B. allocated_coins: 게임에 적립된 코인  
　　C. available_coins: 사용 가능 코인  
　　D. monthly_bonus: 이번 달 증정 코인  


**2.5.1.2.** 폼 코인 구매  

　1: API 호출  
　　A. POST /partner/coins/purchase  
　　B. Request: { quantity: number, payment_method_id: string }  
　　C. Response: { success: boolean, new_balance: number, transaction_id: string }  

　2: 결제 처리  
　　A. PG사 결제 API 연동  
　　B. 결제 성공 시 코인 즉시 반영  
　　C. 결제 실패 시 에러 메시지 표시  


**2.5.1.3.** 게임 생성/수정  

　1: 게임 생성 API  
　　A. POST /partner/games  
　　B. Request: { type: string, name: string, prizes: array, probabilities: array }  

　2: 게임 수정 API  
　　A. PUT /partner/games/{game_id}  
　　B. 상품, 확률, 활성화 상태 변경  

　3: 유효성 검증  
　　A. 확률 합계 = 100% 검증  
　　B. 상품 연결 유효성 검증  
　　C. 최대 게임 수(3개) 초과 검증  


**2.5.1.4.** 코인 적립 및 제공 설정  

　1: 코인 적립 API  
　　A. POST /partner/games/{game_id}/allocate  
　　B. Request: { amount: number }  

　2: 무료 게임 설정 API  
　　A. PUT /partner/games/{game_id}/free-play  
　　B. Request: { daily_limit: number, target_customers: array, time_range: object }  


**2.5.1.5.** 에러 처리  

　1: 코인 부족  
　　A. 적립 또는 구매 필요 안내  
　　B. 코인 구매 페이지로 이동 버튼  

　2: 결제 실패  
　　A. 실패 사유 표시 (카드 한도, 네트워크 오류 등)  
　　B. 재시도 또는 다른 결제 수단 안내  

　3: 유효성 오류  
　　A. 확률 합계 불일치 시 조정 안내  
　　B. 필수 입력 누락 시 해당 필드 강조  


• 참조: 위드폼 코인 시스템 정책 정의서
