**1.1.6.** 개발자 인터랙션 명세  


**1.1.6.1.** 화면 초기 로딩  

　1: API 호출  
　　A. 엔드포인트: GET /api/partner/membership/plans  
　　B. 응답 데이터  
　　　　a. plans: 베이직/플러스/프리미엄 플랜 정보 배열  
　　　　b. current_plan: 현재 파트너의 플랜 (가입 직후이므로 "basic")  
　　　　c. promotions: 현재 진행 중인 프로모션 정보  

　2: 로딩 상태 처리  
　　A. 플랜 정보 로딩 중: 스켈레톤 UI 또는 로딩 스피너 표시  
　　B. 로딩 완료 후: 플랜 카드 렌더링  


**1.1.6.2.** 플랜 선택 및 결제 페이지 이동  

　1: 플러스 "시작하기" 버튼 클릭  
　　A. 이동 경로: /partner/onboarding/membership/plus/payment  
　　B. 전달 파라미터  

| 파라미터 | 값 | 설명 |  
|---|---|---|  
| plan | plus | 선택한 플랜 |  
| price | 29000 | 정가 (원) |  
| promo | 1month_free_2months_50off | 프로모션 코드 |  
| source | onboarding | 진입 경로 |  

　2: 프리미엄 "시작하기" 버튼 클릭  
　　A. 이동 경로: /partner/onboarding/membership/premium/payment  
　　B. 전달 파라미터  

| 파라미터 | 값 | 설명 |  
|---|---|---|  
| plan | premium | 선택한 플랜 |  
| price | 49000 | 정가 (원) |  
| discounted_price | 34000 | 할인가 (원) |  
| promo | 6months_discount | 프로모션 코드 |  
| source | onboarding | 진입 경로 |  


**1.1.6.3.** 결제 완료 후 처리  

　1: 결제 성공 시  
　　A. 결제 완료 API 응답 수신  
　　B. 파트너 멤버십 상태 업데이트  
　　C. 다음 가입 단계로 리다이렉트: /partner/onboarding/reward-setup  
　　D. 성공 토스트 메시지: "멤버십 구독이 완료되었습니다"  

　2: 결제 실패 시  
　　A. 멤버십 구독 화면으로 복귀  
　　B. 에러 토스트 메시지: "결제에 실패했습니다. 다시 시도해주세요."  
　　C. 에러 로그 기록 (결제 실패 사유 포함)  

　3: 결제 취소 시 (사용자가 취소)  
　　A. 멤버십 구독 화면으로 복귀  
　　B. 별도 메시지 없음 (또는 "결제가 취소되었습니다" 표시)  


**1.1.6.4.** 건너뛰기 처리  

　1: "건너뛰기" 버튼 클릭  
　　A. API 호출: POST /api/partner/onboarding/skip-membership  
　　B. 요청 데이터: { step: "membership", skipped: true }  
　　C. 응답 처리: 다음 가입 단계 URL 반환  
　　D. 리다이렉트: /partner/onboarding/reward-setup  

　2: 건너뛰기 기록  
　　A. 파트너 온보딩 진행 상태에 "멤버십 건너뜀" 기록  
　　B. 이후 대시보드에서 멤버십 업그레이드 유도 배너 노출 가능  


**1.1.6.5.** 상세 모달 상태 관리  

　1: 모달 오픈  
　　A. 트리거: "상세 보기" 버튼 클릭  
　　B. 상태 변수: isModalOpen = true, selectedPlan = "plus" | "premium"  
　　C. 모달 내용: selectedPlan에 따라 해당 플랜 상세 정보 렌더링  

　2: 모달 닫기  
　　A. 트리거: 닫기 버튼, 배경 클릭, ESC 키  
　　B. 상태 변수: isModalOpen = false  
　　C. 포커스 복귀: 모달을 열었던 "상세 보기" 버튼으로 포커스 이동  


**1.1.6.6.** 에러 처리  

　1: 플랜 정보 로딩 실패  
　　A. 에러 메시지: "플랜 정보를 불러오지 못했습니다"  
　　B. 재시도 버튼 제공  
　　C. 재시도 클릭 시: GET /api/partner/membership/plans 재호출  

　2: 네트워크 오류  
　　A. 오프라인 감지 시: "네트워크 연결을 확인해주세요" 메시지 표시  
　　B. 재시도 버튼 제공  

　3: 결제 페이지 이동 실패  
　　A. 에러 메시지: "결제 페이지로 이동할 수 없습니다. 잠시 후 다시 시도해주세요."  
　　B. 에러 로그 기록  


**1.1.6.7.** 접근성 및 UX 고려사항  

　1: 키보드 네비게이션  
　　A. Tab 키로 플랜 카드 간 이동  
　　B. Enter 키로 버튼 활성화  
　　C. ESC 키로 모달 닫기  

　2: 스크린 리더 지원  
　　A. 플랜 카드에 적절한 ARIA 라벨 적용  
　　B. 현재 플랜 표시에 aria-current="true" 적용  
　　C. 모달에 aria-modal="true", role="dialog" 적용  

　3: 로딩 상태 피드백  
　　A. 버튼 클릭 후 로딩 중: 버튼 비활성화 + 스피너 표시  
　　B. 중복 클릭 방지  

