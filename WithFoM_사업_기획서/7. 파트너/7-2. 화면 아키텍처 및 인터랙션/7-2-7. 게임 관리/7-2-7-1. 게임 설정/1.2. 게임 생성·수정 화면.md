<!-- WF:DOC=BIZ -->
**1.2.** 게임 생성·수정 화면  


**1.2.1.** 화면 구조  


**1.2.1.1.** 화면 정의  

1: 게임 생성·수정 전용 서브 화면(별도 페이지 전환, 뒤로 가기로 1.1. 복귀)  
2: 멀티 스텝 폼(Step 1 → Step 2 → Step 3)  
3: 상단 스텝 인디케이터 표시  
4: 진입 방식에 따라 시작 Step 분기  
　A. [게임 만들기] → Step 1부터 (저장 라이브러리에 리워드 1개 이상 존재 시에만 진입 가능)  
　B. [유형 변경] → Step 1부터 (기존 적용 리워드 복사본은 새 게임에 자동 이관)  
　C. [설정 수정] → Step 2부터  


**1.2.2.** Step 1 — 게임 유형 선택  


**1.2.2.1.** 유형 카드 목록  

1: 4종 게임 유형 카드 수평 나열  
　A. 룰렛(6칸)  
　　A-1. 원형 룰렛 UI, 6개 구간으로 분할  
　　A-2. 소비자가 룰렛 회전 버튼 클릭 → 랜덤 멈춤 → 결과 표시  
　B. 뽑기(12캡슐)  
　　B-1. 회전 원통 내부 12개 캡슐 배치  
　　B-2. 소비자가 스타트 버튼 클릭 → 캡슐 1개 사출 → 번호 매칭 리워드 당첨  
　C. 스크래치(16칸, 4×4)  
　　C-1. 4×4 격자(16칸) 레이아웃  
　　C-2. 소비자가 터치/드래그로 코팅 긁기 → 16칸 중 같은 번호 3개 일치 시 당첨  
　D. 사다리(6줄)  
　　D-1. 6개 시작점-도착점 연결 사다리 레이아웃  
　　D-2. 소비자가 시작점 하나 선택 → 자동 이동 → 도착점 리워드 당첨  

2: 유형별 카드 내용  
　A. 유형 아이콘/미리보기  
　B. 유형명  
　C. 슬롯 수 안내(예: "6칸", "12캡슐", "16칸(4×4)", "6줄")  
　D. 게임 설명(1~2줄)  

3: 선택 동작  
　A. 카드 클릭 → 선택 강조(테두리·체크 표시)  
　B. 하나만 선택 가능(라디오 방식)  
　C. [다음] 버튼 활성화 → Step 2로 이동  


**1.2.2.2.** 게임 메커니즘 상세  

1: 결과 결정 방식 (공통)  
　A. 서버에서 리워드 확률 기반으로 당첨 결과를 먼저 결정(Server-Side Result Determination)  
　B. 결정된 결과를 클라이언트에 전달  
　C. 클라이언트는 해당 결과에 도달하는 연출 수행  
　D. 확률 조작 방지 + 서버 권한 유지  

2: 룰렛 메커니즘  
　A. 원형 디스크 6등분, 각 구간에 리워드명·등수 표시  
　B. 슬롯 매핑: 6칸에 리워드 항목(꽝 포함) 1:1 이상 배치. 항목 수 < 6 시 확률 비례로 여분 칸 추가 배정  
　C. 연출: 디스크 고속 회전 시작 → 점진 감속(이징 곡선 적용) → 서버 지정 결과 칸에 포인터 정지  
　D. 결과: 포인터가 가리키는 칸의 리워드 또는 꽝 결과 화면 전환  

3: 뽑기 메커니즘  
　A. 투명 원통 내부 12개 컬러 캡슐 배치  
　B. 슬롯 매핑: 12캡슐을 리워드 항목(꽝 포함) 수로 균등 분배, 나머지는 확률 비례 추가 배정  
　C. 연출: [스타트] 클릭 → 원통 회전(캡슐 섞임 효과) → 사출구에서 서버 지정 결과 캡슐 1개 사출 → 캡슐 열림  
　D. 결과: 캡슐 번호에 매칭된 리워드 또는 꽝 결과 화면 전환  

4: 스크래치 메커니즘  
　A. 4×4 격자(16칸), 각 칸에 코팅 커버 + 하단에 번호 숨김  
　B. 번호 배치: 서버가 결과 결정 후 번호 배치 맵 생성  
　　B-1. 당첨 시: 당첨 리워드 번호를 3칸에 배치 + 나머지 13칸에 다른 번호 무작위 배치(동일 번호 최대 2개 제한)  
　　B-2. 꽝 시: 모든 번호를 최대 2개까지만 배치(3개 일치 불가)  
　C. 연출: 소비자 터치/드래그로 코팅 긁기 → 번호 점진 노출 → 같은 번호 3개 발견 시 자동 당첨 처리 + 미발견 칸 자동 오픈  
　D. 결과: 당첨 리워드 또는 꽝 결과 화면 전환  

5: 사다리 메커니즘  
　A. 6개 세로줄(시작점) + 무작위 가로선(다리) + 6개 도착점(리워드/꽝)  
　B. 슬롯 매핑: 6개 도착점에 리워드 항목(꽝 포함) 1:1 이상 배치. 항목 수 < 6 시 확률 비례로 여분 도착점 추가 배정  
　C. 처리: 소비자 시작점 선택 → 서버에 전달 → 서버가 확률 기반 결과 결정 → 선택된 시작점에서 결과 도착점까지 연결되는 사다리 구조 생성 → 클라이언트에 전달  
　D. 연출: "사다리 준비 중..." 로딩 → 사다리 전체 구조 표시 → 마커가 시작점에서 자동 이동(가로선 방향 전환) → 도착점 도달  
　E. 결과: 도착점의 리워드 또는 꽝 결과 화면 전환  

6: 결과 표시 화면 (공통)  
　A. 당첨 시: 축하 이펙트 + 리워드명·안내 문구 표시 + [쿠폰함에서 확인] 버튼  
　B. 꽝 시: 위로 메시지(파트너 설정 문구) + [다시 도전] 버튼(코인 보유 시)  

7: 슬롯-리워드 배분 규칙 (공통)  
　A. 리워드+꽝 합계가 고정 슬롯 수보다 적을 때 적용  
　B. 각 항목(리워드·꽝)에 최소 1개 슬롯 배정  
　C. 여분 슬롯은 확률이 높은 항목부터 1개씩 추가 배정  
　D. 시각적 배분은 연출용이며, 실제 당첨은 서버 확률 엔진이 결정  

8: 최소 리워드 수 규칙  
　A. 꽝 ON: 리워드 최소 1개 + 꽝 = 최소 2개 항목  
　B. 꽝 OFF: 리워드 최소 2개  
　C. 최소 조건 미충족 시 게임 저장·반영 불가  

9: 수량 소진 리워드 처리  
　A. 개별 리워드 잔여 수량 = 0 시 해당 리워드 당첨 후보에서 제외  
　B. 나머지 리워드(+꽝)의 원래 확률 비율 유지하며 비례 재분배  
　C. 소진된 리워드 슬롯: 비활성(회색) 처리 + "소진" 표시  
　D. 총 잔여 수량(전체 리워드 합산) ≤ 총 발행 수량의 10% 시 파트너 알림: "게임 리워드 잔여 수량이 10% 이하입니다 (남은 N개/총 M개)"  
　E. 총 잔여 수량 = 0 시 게임 자동 일시정지 + 파트너 알림: "모든 리워드가 소진되어 게임이 일시정지되었습니다"  
　F. 리워드 보충은 총량 단위로만 가능(개별 수량 수정 불가, 확률 비례로 자동 분배) → 1.3. 리워드 보충 기능 참조  
　G. 게임 일시정지 시 소비자 표시: 게임 배너에 "준비 중" 오버레이 + 게임 진입 차단(코인 미소모) → 9-3-12 > 3. 참조  
　H. 게임 재개 시: "준비 중" 오버레이 해제만 처리, 별도 메시지·푸시 없음  


**1.2.3.** Step 2 — 게임 이름 설정  


**1.2.3.1.** 게임 이름 설정  

1: 게임 이름 입력(소비자에게 표시할 명칭, 최대 20자)  
　A. 기본값 자동 생성: "매장명의 게임유형"(예: "카페ABC의 룰렛")  
　B. 파트너가 자유롭게 수정 가능  

2: [유형 변경] 진입 시  
　A. 기존 게임 이름이 사전 입력된 상태로 표시  
　B. 새 유형에 맞게 수정 가능  


**1.2.3.2.** 리워드 적용 안내  

1: 안내 영역 표시  
　A. "저장된 리워드는 Step 3에서 게임에 적용할 수 있습니다."  
　B. 저장 라이브러리 리워드 수 표시: "현재 저장된 리워드: N개"  
2: [유형 변경] 진입 시  
　A. "기존 리워드 구성이 자동으로 유지됩니다. Step 3에서 확인·수정할 수 있습니다." 안내  


**1.2.4.** Step 3 — 리워드 구성·확인  


**1.2.4.1.** 리워드 구성  

1: [게임 만들기] 진입 시 (신규 생성)  
　A. 저장 라이브러리에서 리워드 선택하여 추가(꽝 OFF 시 최대 6개, 꽝 ON 시 최대 5개 + 꽝 1개)  
　B. 각 리워드에 등수·확률(%)·수량 설정  
　C. 꽝 ON/OFF 토글 + 꽝 확률·메시지 설정  
　D. 확률 합계 실시간 검증(100% 필수)  

2: [유형 변경] 진입 시 (자동 이관)  
　A. 기존 게임의 리워드 복사본이 자동 이관되어 사전 적용 표시  
　B. 등수·확률·수량·꽝 설정 모두 유지  
　C. 파트너가 확인 후 수정 가능(추가/제거/확률 변경)  

3: [설정 수정] 진입 시  
　A. 현재 적용 중인 리워드 구성 표시  
　B. 파트너가 수정 가능  

**1.2.4.2.** 프리셋 빠른 적용  

1: 저장된 프리셋 목록 드롭다운  
　A. 클릭 시 해당 프리셋의 리워드 구성을 미리보기 표시  
　B. [적용] 버튼 → 현재 게임 리워드 구성 교체  
2: 프리셋이 불완전(삭제된 리워드 포함)할 경우  
　A. 경고 아이콘 + "일부 리워드가 삭제되어 불완전한 프리셋입니다" 안내  
　B. [리워드 편집에서 수정] 링크 → 1.3. 섹션으로 이동  

**1.2.4.3.** 저장 및 완료  

1: [게임 저장] 버튼  
　A. 활성화 조건: 유형 선택 + 리워드+꽝 합계 최소 2개 이상 적용 + 확률 100%  
　B. 클릭 시 게임 생성/수정 완료 → 1.1. 게임 생성 섹션으로 복귀  
　C. 게임이 처음 생성인 경우: "게임이 생성되었습니다!" 성공 토스트  
　D. 수정인 경우: "게임 설정이 수정되었습니다" 성공 토스트  
　E. 유형 변경인 경우: "게임 유형이 변경되었습니다" 성공 토스트  
2: [취소] 버튼  
　A. 변경 사항 확인 모달 → 미저장 시 1.1.로 복귀  


• 참조: 1.0. 페이지 개요 > 1.0.1.2. 게임 유형 구분, 1.1. 게임 생성 섹션, 1.3. 리워드 적용·프리셋 관리, 7-2-8-3. 설정 > 3.1. 리워드, 9-3-12 > 3. 게임 이용 방법  
