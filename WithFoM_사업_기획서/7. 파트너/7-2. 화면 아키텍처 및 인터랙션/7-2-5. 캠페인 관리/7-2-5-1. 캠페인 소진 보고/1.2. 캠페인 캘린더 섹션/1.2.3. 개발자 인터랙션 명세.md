<!-- WF:DOC=DEV -->
**1.2.3.** 개발자 인터랙션 명세  


**1.2.3.1.** 캘린더 데이터 조회 API  

1: 엔드포인트  
　A. GET /api/v1/partner/campaign/calendar  

2: 요청 파라미터  

```json
{
  "year": 2026,
  "month": 2
}
```

3: 응답 구조  

```json
{
  "year": 2026,
  "month": 2,
  "days": [
    {
      "date": "2026-02-01",
      "consumptionQty": 45,
      "reportStatus": "completed",
      "canEdit": false,
      "campaignEvents": []
    },
    {
      "date": "2026-02-10",
      "consumptionQty": 0,
      "reportStatus": "missing",
      "canEdit": true,
      "campaignEvents": [
        { "type": "matching", "label": "2번차 캠페인 매칭일" }
      ]
    },
    {
      "date": "2026-02-11",
      "consumptionQty": null,
      "reportStatus": "pending",
      "canEdit": false,
      "campaignEvents": []
    }
  ],
  "campaignSummary": {
    "campaignId": "CMP-2026-001",
    "matchingDate": "2026-01-15",
    "payDate": "2026-02-15",
    "expectedEndDate": "2026-03-15",
    "actualEndDate": null
  }
}
```


**1.2.3.2.** 소진량 수정 API  

1: 엔드포인트  
　A. PUT /api/v1/partner/campaign/calendar/{date}/consumption  

2: 요청 파라미터  

```json
{
  "quantity": 50,
  "reason": "입력 오류 수정"
}
```

3: 수정 가능 시간 검증  

```javascript
const canEditCalendarDate = (targetDate, storeOpenTime) => {
  const editDeadline = new Date(targetDate);
  editDeadline.setDate(editDeadline.getDate() + 1);
  editDeadline.setHours(storeOpenTime.getHours() + 2);
  // 24시간 매장 예외: 다음 날 오전 11:00까지
  if (storeOpenTime === '00:00') {
    editDeadline.setHours(11, 0, 0, 0);
  }
  return new Date() <= editDeadline;
};
```

4: 응답 구조  

```json
{
  "status": "success",
  "updatedDay": {
    "date": "2026-02-10",
    "consumptionQty": 50,
    "previousQty": 42,
    "reportStatus": "completed",
    "modifiedAt": "2026-02-11T09:30:00+09:00"
  }
}
```


**1.2.3.3.** 컴포넌트 구현  

1: 캘린더 렌더링 방식  
　A. 월 단위 그리드 레이아웃 (7열 × 최대 6행)  
　B. 각 날짜 셀에 소진량 숫자 표시  
　C. 캠페인 이벤트가 있는 날짜에 이벤트 마커 표시  

2: 날짜별 색상 분기  

```javascript
const getDateCellColor = (reportStatus) => {
  switch (reportStatus) {
    case 'completed':
      return '#22C55E'; // 그린
    case 'missing':
      return '#EF4444'; // 빨간색
    case 'pending':
      return '#9CA3AF'; // 회색 (오늘 이후)
    default:
      return '#F3F4F6'; // 기본
  }
};
```

3: 수정 가능 시간 로직  
　A. canEdit === true인 날짜만 클릭 이벤트 활성화  
　B. canEdit === false인 날짜는 읽기 전용 표시  
　C. 클릭 시 수정 모달 표시  


**1.2.3.4.** 접근성 요구사항  

1: 캘린더 ARIA  
　A. role="grid"  
　B. aria-label="캠페인 소진 캘린더"  
　C. 각 날짜 셀: role="gridcell"  
　D. aria-selected="true" (선택된 날짜)  

2: 키보드 날짜 이동  
　A. 화살표 키로 날짜 간 이동  
　B. Enter 키로 날짜 선택 (수정 모달 열기)  
　C. Escape 키로 수정 모달 닫기  
　D. Page Up/Down으로 월 이동  


**1.2.3.5.** 에러 처리  

1: 에러 코드  
　A. CAL_001: 캘린더 데이터 조회 실패  
　B. CAL_002: 소진량 수정 실패  

2: 사용자 메시지  
　A. CAL_001: "캘린더 정보를 불러오지 못했습니다."  
　B. CAL_002: "소진량 수정에 실패했습니다. 다시 시도해 주세요."  
　C. 모든 에러에 재시도 버튼 표시  


• 참조: 7-1-5-5. 캠페인 캘린더
