**1.4.3.** 개발자 인터랙션 명세  


**1.4.3.1.** 현재 혜택 적용 현황 조회 API  

1: 엔드포인트  
　A. GET /api/v1/partner/grade/applied-benefits  

2: 응답 구조  

```json
{
  "partnerId": "PTN-001",
  "currentGrade": "gold",
  "appliedBenefits": {
    "cupholder": {
      "applied": true,
      "type": "free",
      "description": "컵홀더 무료 제공",
      "lastAppliedAt": "2026-01-15T10:00:00Z"
    },
    "membership": {
      "applied": true,
      "type": "discount",
      "discountRate": 30,
      "description": "멤버십 30% 할인 적용",
      "currentPlan": "plus",
      "originalPrice": 29000,
      "discountedPrice": 20300
    },
    "incentive": {
      "applied": false,
      "reason": "플래티넘 등급에서만 제공"
    }
  }
}
```


**1.4.3.2.** 컴포넌트 상태 관리  

1: 페이지 상태 (pageState)  
　A. loading: 데이터 로딩 중  
　B. ready: 데이터 로드 완료  
　C. error: 에러 발생  

2: 혜택 상태 (benefitStatus)  
　A. cupholder: object (적용 현황)  
　B. membership: object (적용 현황)  
　C. incentive: object (적용 현황)  


**1.4.3.3.** 실시간 데이터 연동  

1: WebSocket 이벤트  
　A. grade.updated: 등급 변경 발생 시 혜택 현황 갱신  
　B. grade.benefit_applied: 혜택 적용 알림  
　C. grade.incentive_calculated: 인센티브 정산 완료  

2: 연결 정보  
　A. 엔드포인트: wss://api.withfom.com/partner/grade/realtime  
　B. 인증: JWT 토큰 기반 연결  
　C. Heartbeat 간격: 30초  
　D. 연결 끊김 시 자동 재연결 (최대 5회, 간격 2초씩 증가)  


**1.4.3.4.** 에러 처리  

1: 네트워크 에러  
　A. API 호출 실패 시 재시도 버튼 표시  
　B. 토스트: "네트워크 오류가 발생했습니다. 다시 시도해 주세요."  
　C. 자동 재시도: 3회, 간격 2초  

2: WebSocket 연결 실패  
　A. 폴링 방식으로 전환 (60초 간격)  
　B. 연결 복구 시 WebSocket으로 재전환  

3: 에러 코드 매핑  

| 에러 코드 | 설명 | 사용자 메시지 |
|---|---|---|
| GRD_004 | 혜택 적용 확인 실패 | 혜택 적용 현황을 확인할 수 없습니다 |
| GRD_005 | 권한 없음 | 해당 정보에 접근할 권한이 없습니다 |


**1.4.3.5.** 접근성 요구사항  

1: 섹션 ARIA  
　A. role="region"  
　B. aria-labelledby="benefit-check-title"  

2: 버튼 ARIA  
　A. role="button"  
　B. aria-label 명시 (예: "컵홀더 발주 페이지로 이동")  

3: 혜택 상태 ARIA  
　A. 적용됨: aria-label="적용됨"  
　B. 미적용: aria-label="미적용"  

4: 키보드 내비게이션  
　A. Tab: 혜택 항목 및 버튼 간 이동  
　B. Enter/Space: 버튼 클릭  


**1.4.3.6.** 성능 최적화  

1: 데이터 캐싱  
　A. 세션 스토리지에 5분 캐싱  
　B. 혜택 적용/변경 이벤트 수신 시 캐시 무효화  

2: 렌더링 최적화  
　A. 등급에 따라 표시할 혜택 항목만 렌더링  
　B. 조건부 렌더링으로 불필요한 DOM 생성 방지  


• 참조: 7-2-4-1 > 1.3.3. 개발자 인터랙션 명세
