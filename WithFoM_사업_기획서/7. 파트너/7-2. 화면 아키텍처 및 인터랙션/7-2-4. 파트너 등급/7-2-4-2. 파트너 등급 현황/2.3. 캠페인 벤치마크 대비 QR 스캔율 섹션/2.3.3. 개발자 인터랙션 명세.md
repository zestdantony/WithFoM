**2.3.3.** 개발자 인터랙션 명세  


**2.3.3.1.** QR 스캔율 조회 API  

1: 엔드포인트  
　A. GET /api/v1/partner/grade/scan-rate  

2: 요청 파라미터  
　A. campaignId: 캠페인 ID (선택, 미입력 시 현재 캠페인)  

3: 응답 구조  

```json
{
  "campaignId": "CMP-2026-001",
  "campaignName": "스타벅스 신년 캠페인",
  "myStore": {
    "todayScan": 45,
    "weekScan": 312,
    "totalScan": 1250,
    "scanRate": 105.2
  },
  "benchmark": {
    "participatingStores": 245,
    "averageScan": {
      "daily": 42,
      "weekly": 297,
      "total": 1188
    }
  },
  "comparison": {
    "vsAverage": 5.2,
    "rank": 87,
    "percentile": "상위 35%"
  },
  "gradeRequirements": {
    "bronze": { "max": 79 },
    "silver": { "min": 80, "max": 95 },
    "gold": { "min": 96, "max": 110 },
    "platinum": { "min": 111 }
  },
  "currentLevel": "gold",
  "trend": {
    "direction": "up",
    "change": 3.5,
    "period": "지난주 대비"
  }
}
```


**2.3.3.2.** 컴포넌트 상태 관리  

1: 드롭다운 상태 (expandedState)  
　A. scanRate: boolean  

2: 모달 상태 (modalState)  
　A. benchmarkDetail: boolean  
　B. scanAnalysis: boolean  


**2.3.3.3.** 차트 데이터 구조  

```javascript
const scanRateChartData = {
  type: 'bar',
  labels: ['내 매장', '벤치마크 평균'],
  datasets: [
    {
      label: '일일 스캔',
      data: [45, 42],
      backgroundColor: ['#3B82F6', '#94A3B8']
    },
    {
      label: '주간 스캔',
      data: [312, 297],
      backgroundColor: ['#22C55E', '#94A3B8']
    }
  ]
};
```


**2.3.3.4.** 실시간 데이터 연동  

1: WebSocket 이벤트  
　A. grade.scan_updated: QR 스캔 데이터 갱신  

2: 연결 정보  
　A. 엔드포인트: wss://api.withfom.com/partner/grade/status/realtime  


**2.3.3.5.** 접근성 요구사항  

1: 프로그래스 바 ARIA  
　A. role="progressbar"  
　B. aria-valuenow="{현재값}"  
　C. aria-label="스캔율 진행률"  

2: 차트 ARIA  
　A. role="img"  
　B. aria-label="스캔율 비교 차트"  


**2.3.3.6.** 에러 처리  

1: 에러 코드  
　A. GRS_003: 스캔율 조회 실패  


• 참조: 7-2-4-2 > 2.2.3. 개발자 인터랙션 명세
