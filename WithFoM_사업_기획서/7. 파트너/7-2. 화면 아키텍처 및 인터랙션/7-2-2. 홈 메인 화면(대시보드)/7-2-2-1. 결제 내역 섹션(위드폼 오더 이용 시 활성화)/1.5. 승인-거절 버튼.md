**1.5.** 승인·거절 버튼  


**1.5.1.** 버튼 구성  

**1.5.1.1.** 버튼 레이아웃  
1: 카드 하단에 2개 버튼 가로 배치  
　A. 좌측: [거절] 버튼 (보조 스타일, 회색 또는 흰색 배경)  
　B. 우측: [승인] 버튼 (주요 스타일, 브랜드 컬러 배경)  
2: 버튼 크기  
　A. 각 버튼 너비: 카드 너비의 45%  
　B. 높이: 44px (터치 영역 확보)  


**1.5.2.** 승인 버튼 동작  

**1.5.2.1.** 클릭 시 처리  
1: 주문 상태 변경  
　A. 상태: "신규" → "준비중"으로 변경  
　B. 상태 변경 즉시 서버에 반영  
2: 시각적 피드백  
　A. 버튼 클릭 시 로딩 스피너 표시 (0.5초 이내)  
　B. 처리 완료 시 ✓ 체크 아이콘으로 변경  
　C. 카드 상태 갱신: "신규" → "준비중" 카드로 변경 (상시 노출 원칙에 따라 유지)  
3: 고객 알림  
　A. 승인 완료 시 고객에게 "주문이 접수되었습니다" 푸시 알림 발송  


**1.5.3.** 거절 버튼 동작  

**1.5.3.1.** 클릭 시 처리  
1: 거절 확인 팝업 표시  
　A. 팝업 제목: "주문을 거절하시겠습니까?"  
　B. 팝업 내용: "거절 시 고객에게 알림이 발송되며, 결제가 취소됩니다."  
　C. 버튼: [취소] / [거절 확인]  
2: 거절 사유 선택 (필수)  
　A. 메뉴 품절 (솔드아웃)  
　B. 재료 소진  
　C. 일일 수량 한정 초과  
　D. 영업 시간 종료  
　E. 브레이크 타임  
　F. 주문 폭주로 대기 시간 초과  
　G. 장비 고장/점검 중  
　H. 배달/픽업 불가 상황  
　I. 특정 옵션 불가  
　J. 기타 (직접 입력)  
3: 처리 결과  
　A. 상태: "신규" → "취소"로 변경  
　B. 결제 취소 로직 자동 실행  
　C. 카드가 리스트에서 제거  
4: 고객 알림  
　A. 거절 완료 시 고객에게 "죄송합니다. 매장 사정으로 주문이 취소되었습니다." 푸시 알림 발송  


**1.5.4.** 자동 승인 타이머  

**1.5.4.1.** 동작 방식  
1: 타이머 시작 조건  
　A. 신규 주문 카드 생성 시 자동으로 60초 타이머 시작  
2: 카운트다운 표시  
　A. 원형 프로그레스 바로 잔여 시간 시각화  
　B. 숫자로 잔여 초 표시 (예: "45초")  
　C. 10초 이하 시 빨간색으로 강조  
3: 타이머 종료 시  
　A. 자동으로 승인 처리  
　B. 파트너에게 "자동 승인되었습니다" 토스트 메시지 표시  
　C. 고객에게 "주문이 접수되었습니다" 푸시 알림 발송  


**1.5.5.** 버튼 비활성화 조건  

**1.5.5.1.** 비활성화 상황  
1: 처리 중 상태  
　A. 승인/거절 버튼 클릭 후 서버 응답 대기 중  
　B. 버튼 비활성화 + 로딩 스피너 표시  
2: 이미 처리된 주문  
　A. 다른 직원이 먼저 처리한 경우  
　B. "이미 처리된 주문입니다" 안내 후 카드 상태 갱신  
3: 소비자가 취소한 주문  
　A. 승인 전 소비자가 주문 취소한 경우  
　B. "고객이 주문을 취소했습니다" 안내 후 카드 제거  


**1.5.6.** 소비자 주문 취소 시 파트너 처리  

**1.5.6.1.** 소비자 취소 시 파트너 화면 동작  
1: 실시간 알림 수신  
　A. WebSocket 이벤트: order.cancelled_by_customer  
　B. 해당 카드 즉시 제거 처리  
2: 시각적 피드백  
　A. 카드가 붉은색으로 깜빡임 (0.5초)  
　B. "고객 취소" 라벨 표시 후 페이드아웃  
3: 알림 표시  
　A. 토스트 메시지: "주문번호 #0042 - 고객이 주문을 취소했습니다"  
　B. 알림음 재생 (선택적)  
4: 취소 내역 확인  
　A. 주문 관리 > 취소 필터에서 확인 가능  
　B. 취소 사유 및 취소 시간 표시  

**1.5.7.** 승인 후 파트너 측 취소 처리  

**1.5.7.1.** 취소 가능 상황  
1: 대상 주문  
　A. 승인 완료 후 불가피하게 취소해야 하는 경우  
　B. 주문 상태가 "준비중" 또는 "준비완료"인 경우  

**1.5.7.2.** 대시섹션에서 취소 처리 흐름  
1: 카드 클릭  
　A. 결제 내역 섹션에서 해당 주문 카드 클릭  
　B. 주문 관리 페이지로 자동 이동  
　C. 해당 주문 상세 패널 자동 오픈  
2: 취소 버튼 클릭  
　A. 주문 상세 패널에서 [주문 취소] 버튼 클릭  
　B. 취소 확인 팝업 표시  
3: 취소 사유 선택 (필수)  
　A. 메뉴 품절 (솔드아웃)  
　B. 재료 소진  
　C. 일일 수량 한정 초과  
　D. 영업 시간 종료  
　E. 브레이크 타임  
　F. 주문 폭주로 대기 시간 초과  
　G. 장비 고장/점검 중  
　H. 배달/픽업 불가 상황  
　I. 특정 옵션 불가  
　J. 기타 (직접 입력)  
4: 취소 확인  
　A. [취소 확인] 버튼 클릭  
　B. 처리 완료 후 주문 상세 패널 닫힘  

**1.5.7.3.** 취소 시 자동 처리  
1: 소비자 알림  
　A. "매장 사정으로 주문이 취소되었습니다" 문자 발송  
　B. 취소 사유 함께 표시  
2: 환불 처리  
　A. 결제 금액 즉시 자동 환불  
　B. 쿠폰/포인트 자동 복원  
3: 기록  
　A. 파트너 책임 취소로 분류  
　B. 서비스 품질 지표에 반영  

**1.5.7.4.** 대시섹션 화면 갱신  
1: 카드 상태 변경  
　A. 해당 카드가 결제 내역 섹션에서 제거  
　B. "취소 완료" 토스트 메시지 표시  
2: 취소 내역 확인  
　A. 주문 관리 > 취소 필터에서 확인 가능  


• 참조: 7-2-9-6. 주문 상태 플로우 및 버튼 동작  
• 참조: 9-3-5. E-Commerce 경험 > 2. 주문 취소 및 환불 정책.md (소비자 취소 조건 및 절차 상세)
